#+title: An Intro to Python for Finance
#+SETUPFILE: https://fniessen.github.io/org-html-themes/org/theme-readtheorg.setup

Note most other courses use stock data and create trading algorithms.  Here we are going to focus on core financial analyst tasks, e.g. what is the average PPP loan size in Texas? These questions are increasingly being answered in Python rather than Excel.

We can provide exercises at the end of each session.  The students can complete these in a Jupyter notebook, and we can provide solutions.  Do we want to attempt to grade them?

* Week 1 (Setup)

** Session 1

- Course Overview:  
  + What we will cover in the course.  
  + The use of Python in finance.

- Python Relative to other tools.
  + Excel
  + Other Programming Languages
  + Comparison with R
  + Using Javascript for Visualization

** Session 2

[[https://colab.research.google.com/drive/1f2JRrZsZ029JNiPnP_GNiVsyi-e6MXO5][Colab Notebook]]

-  Interacting with Python
  + Google's Colab and Jupyter
    - Introduction to markdown
    - Sharing notebooks
- Creating Functions and Time-Value-of-Money calculations
- Basic control flow
  + The importance of indentation
-  Python Classes and Object Orientation
  + What is a Class
  + Function vs Method:  methods are functions attached to a class

#+BEGIN_COMMENT
  + Locally
    - The REPL
    - As a script file
#+END_COMMENT

** Session 3

[[https://colab.research.google.com/drive/12QKdTc3ulsEQ2cAdmbhq5RkTx9oB1YZ_][Colab Notebook]]

The Python ecosystem.

- You are on a Linux Server
-  An Introduction to Useful Packages:
  + [[https://pandas.pydata.org/][Pandas]]
  + [[https://numpy.org/][Numpy]]
  + Scipy and Scikit Learn
  + Pytorch
  + Tensorflow and Keras 

- Finding Packages
  + pip

- Python Packages
  + Extending the core language
  + Our most used packages.
  + Installing and Loading.
  + How to call methods/functions from a package.


* Week 2 (Pandas and Data Description)
Get spreadsheet type data and perform a corporate finance related task.


** Session 1

[[https://colab.research.google.com/drive/1KLqsQWbXHYSruQXBAJ1QamsxV9FLDN_R][Colab Notebook]]

- An intro to Pandas
- Reading csv and excel files.
  + Locally and over the web.
- Inspecting the objects
- Determining dataframe size and the column types.
- Adding new columns

*** Exercise: Is there a correlation between industry institutional ownership and return on equity?

** Session 2

[[https://colab.research.google.com/drive/16UVjO2PEQUN5b1JoI__JYfj7K_aMuom7#scrollTo=nBbjWR1JYksh][Colab Notebook]]

*** Exercise: What is the average on and off-peak real-time fuel mix?

#+begin_comment
Finish notebook and summarize what was learned.
- Interacting with the OS.
- Append/Concat.
- Summary Statistics
- Subsetting data
- Pivot Tables
#+end_comment

#+begin_comment
Alternative Exercises:
 PPP Loan Statistics by State
 What is the average price at which a power plant sells electricity?
#+end_comment

** Session 3

[[https://colab.research.google.com/drive/18axbgTGt66R7fXa3tsiErQMoyb8m-AJD][Colab Notebook]]

*** Exercise: What is the NPV of a Power Plant over a Year?

#+begin_comment
Finish notebook and summarize what was learned.
- Creating our own functions.
- Time value of money calculations.
- Should we go with the full set of steps to create the PPP data set?
Connecting to databases here?
#+end_comment


* Week 3 (Numpy/Scipy and APIs)
  
Get data from APIs and use for a somewhat more investments focused exercise.

** Session 1

[[https://colab.research.google.com/drive/16h1ykVWbb5fL-xRgOrYmYe9SqfrSin1x#scrollTo=4cmbxkCjM1fH][Colab Notebook]]

- An introduction to Application Programming Interfaces (APIs) and online
  data
  + Example: Coinbase API
  + Example: Interactive Brokers API
  + EIA API.
- Connecting to databases.

*** Exercise: Pull stock data via API and estimate a Markowitz mean-variance optimal portfolio.
*** Alternative: Calculate futures prices given options (but we cant get this from API data).

** Session 2

[[https://colab.research.google.com/drive/1GGXpVBhSIypRslVcjWB5TYcexeRxZlyY][Colab Notebook]]

-  An overview of scipy and basic statistics in Python.
  + Extracting coefficients from an estimated regression model.

*** Exercise: Calculate market depth via Kyle's lambda. Use Coinbase API to get trades.

#+begin_comment
#*** Exercise: Create a function which will estimate the beta coefficient for a given stock.
#*** Advanced Exercise: Make it better with pytorch/pyro and the Kalman filter.
#+end_comment

#+begin_comment
- Example: Classification of Failed/Acquired Banks via Neural Network
#+end_comment

** Session 3

[[https://colab.research.google.com/drive/1u4BUOasPaIVfe8-rD73QXlXmt5EMIMxK][Colab Notebook]]

*** Exercise: Deposit insurance valuation using (Merton's) option pricing method. (chapter 19, Merton's CTF)

* Week 4

Where to go from here.  How to share code, get help, and create reproducible
environments.

** Session 1

[[https://colab.research.google.com/drive/1CQ00H_duTY2lhiwzJ041JTPD6BGBdk5y#scrollTo=Z5RfT4TNucfe][Colab Notebook]]

- Visualization:
  + Matplotlib
  + Seaborn
  + Plotly
  + ggplot (using plotnine library)
- Interactive Web Apps via Plotly's Dash

** Session 2

- The Integrated Development Environment (IDE)
  + What does an IDE provide?
    - Code Completion
    - Linter
  + Git/Github and IDE Integration

** Session 3

- Git/Github and IDE Integration
  + Why use version control?
    - Collaborate with others more easily.
    - Show others your work.

- [[https://colab.research.google.com/github/googlecolab/colabtools/blob/master/notebooks/colab-github-demo.ipynb][Github from Colab]]

- Virtual Environments
  +  Ensuring compatible python and package versions.
  +  Anaconda Python

* Bonus Project: The Pairs Trade

* Bonus Project: Classify Failed Banks with a Deep Neural Network
